## 중앙처리장치(CPU) 작동 원리

### 연산 장치

산술연산/논리연산 수행

연산에 필요한 데이터를 레지스터에서 가져오고, 결과를 다시 보냄

### 제어 장치

명령어를 순서대로 실행할 수 있도록 제어하는 장치

주기억장치에서 명령어를 꺼내 해독, 제어 신호를 기억장치, 연산장치, 입출력장치로 보냄

이들로부터 신호 받아 다음 동작 결정

### 레지스터

고속 기억장치

명령어 주소, 코드, 연산에 필요한 데이터, 연산결과 임시 저장

- 범용레지스터: 연산 데이터, 결과 저장
- 특수목적 레지스터

#### 특수목적 레지스터의 종류

MAR(메모리주소레지스터): 읽기, 쓰기 연산 수행할 주기억장치 주소 저장

PC(프로그램카운터): 다음 명령어 주소 저장

IR(명령어레지스터): 현재 명령어 저장

MBR(메모리버퍼레지스터): 주기억장치에서 읽어온 데이터나 저장할 데이터 임시 저장

AC(누산기): 연산결과 임시 저장

### CPU 동작 과정

1. 주기억장치는 입력장치에서 입력받은 데이터 또는 보조기억장치에 저장된 프로그램 읽어옴

1. CPU는 프로그램을 실행하기 위해 주기억장치에 저장된 프로그램 명령어와 데이터를 읽어와 처리하고 결과를 다시 주기억장치에 저장

1. 주기억장치는 처리 결과를 보조기억장치에 저장하거나 출력장치로 보냄

1. 제어장치는 1~3 과정에서 명령어가 순서대로 실행되도록 각 장치를 제어

### 명령어 세트

> CPU가 실행할 명령어의 집합<br>
> 연산코드(Operation Code) + 피연산자(Operand)<br>
> 연산코드: 연산, 제어, 데이터 전달, 입출력<br>
> 피연산자: 주소, 숫자/문자, 논리데이터

명령어 싸이클: CPU가 주기억장치에서 하나의 명령어를 인출하여 실행하는데 필요한 일련의 활동

= 인출/실행/간접/인터럽트 싸이클

#### 인출 싸이클

> PC값 증가

<Code>
T0: MBR <- PC
</Code>

PC에 저장된 주소를 MBR에 전달 -> 저장된 내용 토대로 주기억장치의 해당 주소에서 명령어 인출

<code>
T1: MBR <- M[MAR], PC <- PC + 1
</code>

인출한 명령어를 MBR에 저장, 다음 명령어 인출을 위해 PC 값 증가

<code>
T2: IR <- MBR
</code>

MBR 내용을 명령어레지스터(IR)에 전달

#### 실행 싸이클

<code>
T0: MAR <- IR(Addr)
           
T1: MBR <- M[MAR]
  
T2: AC <- AC + MBR
</code>
