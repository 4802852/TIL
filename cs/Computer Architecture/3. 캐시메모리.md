## 캐시메모리

속도 빠른 장치와 느린 장치 사이에서 속도 차이에 따른 병목 현상 해소

ex) CPU코어-메모리, 웹페이지-하드디스크(웹브라우저 캐시 파일)

원리: 자주 사용하는 데이터를 캐시에 저장<br>
장점: 속도<br>
단점: 용량은 작은데 비해 비용이 크다

CPU에는 보통 2~3개 사용(L1, L2, L3 캐시 메모리)<br>듀얼코어 프로세서의 경우 각 코어에 L1, 두 코어가 공유하는 L2

캐시를 반으로 나누어 절반은 처리 직전의 명령어, 나머지 반에는 실행 후 명령어 임시 저장 (명령어 세트로 구성, I-cache / D-cache)

- L1: CPU 내부
- L2: CPU-RAM 사이
- L3: 메인보드
  
디스크 캐시: 주기억장치(RAM)과 보조기억장치(HDD) 사이

### 작동 원리

시간 지역성: for, while 등의 조건 변수는 반복 사용 가능성 높음<br>
공간 지역성: 배열의 양옆 등의 자료는 쓰일 가능성 높음

- cache hit: 요청한 데이터가 캐시에 있음
- cache miss: 요청한 데이터가 캐시에 없어 DRAM에서 데이터 탐색

Cache Miss 경우 3가지

1. cold miss: 처음 사용하는 주소
2. conflict miss: 두 데이터가 같은 캐시 주소에 할당
3. capacity miss: 캐시 메모리 공간 부족

### 구조 및 작동방식

1. Direct Mapped Cache: Dram의 여러 주소가 한개의 캐시메모리에 할당. 간단하고 빠르지만 conflict miss 발생.
2. Fully Associated Cache: 마음대로 주소 저장. 찾을 때 문제 (저장은 빠름)
3. Set Associated Cache: 두 방법 조합. 특정 행 지정 후 빈 자리에 저장

|       | Direct |  Set  | Fully |
| :---: | :----: | :---: | :---: |
| 저장  |  느림  | 중간  | 빠름  |
| 검색  |  빠름  | 중간  | 느림  |
