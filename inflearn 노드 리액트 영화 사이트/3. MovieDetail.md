## MovieDetail

앞서 만든 LandingPage 에서 각 영화를 클릭할 경우 나타나는 영화의 상세 페이지 작성

상세 페이지의 템플릿

1. Main Image + 제목 및 설명
2. 영화 상세 정보
3. 출연진 표시를 Toggle 할 수 있는 버튼

### Main Image 표시 및 템플릿

이 MainImage 기능은 LandingPage 에서 사용했던 기능을 그대로 사용한다.

LandingPage 작성 때 LandingPage 하위 Sections 폴더에 MainImage.js 파일을 작성하였는데, 이제 Movie Detail 페이지에서도 사용해야 하기 때문에 이를 commons 폴더로 이동하여 관리하기로 하였다.

```
// src/components/views/MovieDetail/MovieDetail.js
import React, { useEffect, useState } from "react";
import { useParams } from "react-router-dom";
import { API_URL, IMAGE_BASE_URL } from "../../Config";
import { API_KEY } from "../../dev";
import MainImage from "../commons/MainImage";

function MovieDetail(props) {
  let { movieId } = useParams();
  const [Movie, setMovie] = useState([]);

  const endpointInfo = `${API_URL}${movieId}?api_key=${API_KEY}`;

  useEffect(() => {
    fetch(endpointInfo)
      .then((response) => response.json())
      .then((response) => {
        console.log(response);
        setMovie(response);
      });
  }, []);

  return (
    <div>
      {/* Header */}
      {Movie && <MainImage image={`${IMAGE_BASE_URL}w1280${Movie.backdrop_path}`} title={Movie.original_title} text={Movie.overview} />}
      {/* Body */}
      <div style={{ width: "85%", margin: "1rem auto" }}>
        {/* Movie Info */}
        <br />
        {/* Actors Grid */}
        <div style={{ display: "flex", justifyContent: "center", margin: "2rem" }}>
          <button>Toggle Actor View</button>
        </div>
      </div>
    </div>
  );
}

export default MovieDetail;
```

MainImage 를 불러와 표시하는 템플릿을 생성하였다.

### 영화 상세정보 테이블로 표시하기

영화 상세정보는 LandingPage 할 때 Sections 폴더에 하위 부분 페이지를 관리한 것과 같이 MovieInfo.js 파일을 생성하여 작성한다.

ant design 을 이용하여 빠르기 표기하기로 하였다.

```
// src/components/views/MovieDetail/Sections/MovieInfo.js
import React from "react";
import { Descriptions } from "antd";

function MovieInfo(props) {
  let { movie } = props;
  return (
    <Descriptions title="Movie Info" bordered>
      <Descriptions.Item label="Title">{movie.original_title}</Descriptions.Item>
      <Descriptions.Item label="Release Date">{movie.release_date}</Descriptions.Item>
      <Descriptions.Item label="Revenue">{movie.revenue}</Descriptions.Item>
      <Descriptions.Item label="Runtime">{movie.runtime}</Descriptions.Item>
      <Descriptions.Item label="Vote Average" span={2}>
        {movie.vote_average}
      </Descriptions.Item>
      <Descriptions.Item label="Vote Count">{movie.vote_count}</Descriptions.Item>
      <Descriptions.Item label="Status">{movie.status}</Descriptions.Item>
      <Descriptions.Item label="Popularity">{movie.popularity}</Descriptions.Item>
    </Descriptions>
  );
}

export default MovieInfo;
```

```
// src/components/views/MovieDetail/MovieDetail.js
import MovieInfo from "./Sections/MovieInfo";

{/* Movie Info */}
{Movie && <MovieInfo movie={Movie} />}
```

위 문구를 MovieDetail.js 내부에 작성하여 MovieInfo 컴포넌트에 영화 정보를 전달해준다.

MovieInfo 컴포넌트는 Movie state 를 받아 이를 ant design 의 Descriptions 기능을 이용하여 표로 만들어 렌더링하고, 이는 MovieDetail 페이지에 표시되게 된다.

### 출연진 정보 토글 기능